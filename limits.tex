%% -*- coding:utf-8 -*-
\chapter{Limits}

\section{Definitions}

\begin{definition}[Diagram of shape]
\label{def:diagram_of_shape}
\begin{figure}[H]
  \centering
  \begin{tikzpicture}[ele/.style={fill=black,circle,minimum
          width=.8pt,inner sep=1pt},every fit/.style={ellipse,draw,inner
          sep=-2pt}]

      % the texts

      \node at (0,0) {$B$};        
      \node at (0,3) {$C$};        

      \node[ele,label=below:$a_i^{(B)}$] (ac) at (1,0) {};    
      \node[ele,label=below:$a_j^{(B)}$] (bc) at (3,0) {};    
      \node[ele,label=above:$a_i^{(C)}$] (ad) at (1,3) {};
      \node[ele,label=above:$a_j^{(C)}$] (bd) at (3,3) {};

      \node[draw,fit= (ac) (bc),minimum width=3.5cm, minimum
        height=2cm] {} ;
      \node[draw,fit= (ad) (bd),minimum width=3.5cm, minimum
        height=2cm] {} ;

      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ac) to
      node[below]{$g_{ij}^{(B)}$} (bc);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ad) to
      node[above]{$g_{ij}^{(C)}$} (bd);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ac) to
      node[left]{$g_i^{(C)} = F(a_i^{(B)})$} (ad);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (bc) to
      node[right]{$g_j^{(C)} = F(a_j^{(B)})$} (bd);
  \end{tikzpicture}
  \caption{Diagram of shape $F: \cat{B} \tof \cat{C}$. Objects
    $a_{i,j}^{(B)} \in \catob{B}$ are mapped to $a_{i,j}^{(C)} \in
    \catob{C}$. Morphisms $g_{ij}^{(B)} \in \cathom{B}$ are mapped to
    $g_{ij}^{(C)} \in \cathom{C}$}  
  \label{fig:diagram_of_shape}
\end{figure}

Let $\cat{B}$ and $\cat{C}$ are 2 categories. The \textit{diagram of
  shape} $\cat{B}$ in $\cat{C}$ is a \mynameref{def:functor}
(see \cref{fig:diagram_of_shape})
\[
F: \cat{B} \tof \cat{C}
\]
\end{definition}

\begin{definition}[Cone]
\label{def:cone}
\begin{figure}[H]
  \centering
  \begin{tikzpicture}[ele/.style={fill=black,circle,minimum
          width=.8pt,inner sep=1pt},every fit/.style={ellipse,draw,inner
          sep=-2pt}]

      % the texts

      \node at (0,0) {$B$};        
      \node at (0,3) {$C$};        

      \node[ele,label=left:$a_i^{(B)}$] (ac) at (1.5,0) {};    
      \node[ele,label=right:$a_j^{(B)}$] (bc) at (3.5,0) {};    
      \node[ele,label=left:$a_i^{(C)}$] (ad) at (1.5,3) {};
      \node[ele,label=right:$a_j^{(C)}$] (bd) at (3.5,3) {};
      \node[ele,label=above:$c$] (d) at (2.5,5) {};

      \node[draw,fit= (ac) (bc),minimum width=4cm, minimum
        height=2cm] {} ;
      \node[draw,fit= (ad) (bd) (d),minimum width=5cm, minimum
        height=4cm] {} ;

      \draw[->,thick,shorten <=2pt,shorten >=2pt] (d) to
      node[left]{$f^{(c)}_i$} (ad);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (d) to
      node[right]{$f^{(c)}_j$} (bd);

      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ac) to
      node[below]{$g_{ij}^{(B)}$} (bc);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ad) to
      node[above]{$g_{ij}^{(C)}$} (bd);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ac) to
      node[left]{$a_i^{(C)} = F(a_i^{(B)})$} (ad);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (bc) to
      node[right]{$a_j^{(C)} = F(a_j^{(B)})$} (bd);
  \end{tikzpicture}
  \caption{Cone $\catcone{c}{f}$} 
  \label{fig:cone}
\end{figure}
Let $F$ is a \mynameref{def:diagram_of_shape} $\cat{B}$ in $\cat{C}$.
A \textit{cone} to $F$ is an object $d \in \catob{C}$ with
\mynameref{def:morphism}s $f^{c} = \left\{f_i^{c}: c \to
a_i^{(C)}\right\}$, where $a_i^{(C)} = F(a_i^{(B)})$ 
indexed by objects from 
$\cat{B}$. The cone is denoted as $\catcone{c}{f}$.
\end{definition}

\begin{remark}[Coin as natural transformation]
The \mynameref{def:cone} can be considered as \mynameref{def:nt}.
There are 2 functors between categories $\cat{B}$ and 
$\cat{C}$. The first one is the \mynameref{def:diagram_of_shape} $F:
\cat{B} \tof \cat{C}$. The second one is the 
\mynameref{def:const_functor}: 
$\Delta_c: \cat{B} \tof \cat{C}$. The \mynameref{def:nt} $\Delta_c
\tont F$ is the set of \mynameref{def:morphism}s from $\cat{C}$ with
additional relations that are same as conditions defined for
\mynameref{def:cone} $\catcone{c}{f}$.
\end{remark}

\begin{definition}[Limit]
\label{def:limit}
\begin{figure}[H]
  \centering
  \begin{tikzpicture}[ele/.style={fill=black,circle,minimum
          width=.8pt,inner sep=1pt},every fit/.style={ellipse,draw,inner
          sep=-2pt}]

      % the texts

      \node at (0,0) {$B$};        
      \node at (0,7) {$C$};        

      \node[ele,label=left:$a_i^{(B)}$] (ac) at (1.5,0) {};    
      \node[ele,label=right:$a_j^{(B)}$] (bc) at (5.5,0) {};    
      \node[ele,label=left:$a_i^{(C)}$] (ad) at (1.5,3) {};
      \node[ele,label=right:$a_j^{(C)}$] (bd) at (5.5,3) {};
      \node[ele,label=above:$c$] (d) at (3.5,7) {};
      \node[ele,label=below:$l$] (l) at (3.5,5) {};

      \node[draw,fit= (ac) (bc),minimum width=6cm, minimum
        height=2.5cm] {} ;
      \node[draw,fit= (ad) (bd) (d) (l),minimum width=5cm, minimum
        height=5cm] {} ;

      \draw[->,thick,shorten <=2pt,shorten >=2pt] (d) to
      node[right]{$u$} (l);

      \draw[->,thick,shorten <=2pt,shorten >=2pt] (d) to
      node[left]{$f^{(c)}_i$} (ad);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (d) to
      node[right]{$f^{(c)}_j$} (bd);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (l) to
      node[right]{$f^{(l)}_i$} (ad);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (l) to
      node[left]{$f^{(l)}_j$} (bd);

      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ac) to
      node[below]{$g_{ij}^{(B)}$} (bc);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ad) to
      node[below]{$g_{ij}^{(C)}$} (bd);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ac) to
      node[left]{$a_i^{(C)} = F(a_i^{(B)})$} (ad);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (bc) to
      node[right]{$a_j^{(C)} = F(a_j^{(B)})$} (bd);
  \end{tikzpicture}
  \caption{Limit $\catcone{l}{f}$} 
  \label{fig:limit}
\end{figure}
\textit{Limit} of \mynameref{def:diagram_of_shape} $F: \cat{B} \tof
\cat{C}$ is a \mynameref{def:cone} $\catcone{l}{f}$ to $F$ such that for 
any other $\catcone{c}{f}$ to $F$ exists an unique morphism $u : c \to l$
such that  $\forall a_i^{(B)} \in \catob{B}$ $f_i^{(l)} \circ u =
f_i^{(c)}$ i.e. diagram shown on \cref{fig:limit} commutes.
\end{definition}

If we have 2 objects from $\cat{C}$ ($c_1, c_2 \in \catob{C}$) then we can have a lot of
morphisms between the objects which form a set: $\hom_{\cat{C}}(c_1,
c_2)$. There is a subset of $\hom_{\cat{C}}(c_1, c_2)$ that can be
called as cone's morphisms.
\begin{definition}[Morphisms of cones]
\begin{figure}[H]
  \centering
  \begin{tikzpicture}[ele/.style={fill=black,circle,minimum
          width=.8pt,inner sep=1pt},every fit/.style={ellipse,draw,inner
          sep=-2pt}]

      % the texts

      \node at (0,0) {$B$};        
      \node at (0,7) {$C$};        

      \node[ele,label=left:$a_i^{(B)}$] (ac) at (1.5,0) {};    
      \node[ele,label=right:$a_j^{(B)}$] (bc) at (5.5,0) {};    
      \node[ele,label=left:$a_i^{(C)}$] (ad) at (1.5,3) {};
      \node[ele,label=right:$a_j^{(C)}$] (bd) at (5.5,3) {};
      \node[ele,label=above:$c_1$] (d) at (3.5,7) {};
      \node[ele,label=below:$c_2$] (l) at (3.5,5) {};

      \node[draw,fit= (ac) (bc),minimum width=6cm, minimum
        height=2.5cm] {} ;
      \node[draw,fit= (ad) (bd) (d) (l),minimum width=5cm, minimum
        height=5cm] {} ;

      \draw[->,thick,shorten <=2pt,shorten >=2pt] (d) to
      node[right]{$m$} (l);

      \draw[->,thick,shorten <=2pt,shorten >=2pt] (d) to
      node[left]{$f^{(c_1)}_i$} (ad);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (d) to
      node[right]{$f^{(c_1)}_j$} (bd);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (l) to
      node[right]{$f^{(c_2)}_i$} (ad);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (l) to
      node[left]{$f^{(c_2)}_j$} (bd);

      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ac) to
      node[below]{$g_{ij}^{(B)}$} (bc);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ad) to
      node[below]{$g_{ij}^{(C)}$} (bd);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (ac) to
      node[left]{$a_i^{(C)} = F(a_i^{(B)})$} (ad);
      \draw[->,thick,shorten <=2pt,shorten >=2pt] (bc) to
      node[right]{$a_j^{(C)} = F(a_j^{(B)})$} (bd);
  \end{tikzpicture}
  \caption{Morphism $m$ between 2 cones $\catcone{c_1}{f}$ and $\catcone{c_2}{f}$} 
  \label{fig:conesmorphism}
\end{figure}
Let $c_1, c_2 \in \catob{C}$ are 2 objects from category $\cat{C}$ and 
$\catcone{c_1}{f}, \catcone{c_2}{f}$ are 2 \mynameref{def:cone}s.
The morphism $m \in \hom_{\cat{C}}(c_1, c_2)$ is called as morphism of
cones if $\forall i$
\[
f_i^{(c_1)} = f_i^{(c_2)} \circ m, 
\]
i.e. the morphisms in \cref{fig:conesmorphism} commute.
\end{definition}

\begin{definition}[Category of cones]
\label{def:category_of_cones}
Let $F$ is a \mynameref{def:diagram_of_shape} $\cat{B}$ in $\cat{C}$.

TBD

The category of cones is denoted as $\Delta \downarrow F$ \cite{wiki:cone}
\end{definition}

\begin{remark}[Category of cones]
\label{rem:category_of_cones}
Let $F$ is a \mynameref{def:diagram_of_shape} $\cat{B}$ in $\cat{C}$
and $\Delta \downarrow F$ is the \mynameref{def:category_of_cones}.
Then \mynameref{def:limit} is \mynameref{def:terminal_object} in the
category. ??? \mynameref{def:colimit} is \mynameref{def:initial_object} in the
category. 
TBD
\end{remark}

\begin{definition}[Co-cone]
\label{def:cocone}
TBD
\end{definition}

\begin{definition}[Colimit]
\label{def:colimit}
TBD
\end{definition}


TBD

\section{Categorical constructions as limits}

Different choice for category $\cat{B}$ gives different types of
limits. The empty category will give us the terminal object. The
\mynameref{def:discrete_category} with 2 elements produces
\mynameref{def:product} as the \mynameref{def:limit}.
